<div class="container">
<mat-accordion class="headers-align">
  <mat-expansion-panel [ngStyle]="{'background-color':sessions[i].isInstructor ?  'white' : '#b2f6f8' }"
    [expanded]="step === i" (opened)="setStep(i)" hideToggle *ngFor="let session of sessions; let i = index;">
    <mat-expansion-panel-header [collapsedHeight]="'50px'" [expandedHeight]="'50px'">

      <div>
        <mat-panel-title class="title">
          <h5><b>{{session.title}}</b></h5>
        </mat-panel-title>
        
        <mat-panel-description class="instructor">
          {{session.instructor}}
        </mat-panel-description>
      </div>
      <span class="example-fill-remaining-space"></span>
      <div>
        <mat-panel-description class="session-date">
          {{session.sessionDate}}
        </mat-panel-description>
        <mat-panel-description class="capacity">
          {{session.subscribedCount}}/{{session.capacity}}
        </mat-panel-description>
      </div>

    </mat-expansion-panel-header>

    <!--       <mat-form-field>
        <input matInput placeholder="First name">
      </mat-form-field>
  
      <mat-form-field>
        <input matInput type="number" min="1" placeholder="Age">
      </mat-form-field> -->
    <mat-action-row>
      <div class="left-aligned">
        <b>Instructor Info:</b> <br>
        {{session.instructorName}}
      </div>
      <span class="example-fill-remaining-space"></span>
      <div class="right-aligned">
        <div>
          {{session.location}}
        </div>
        <div>
          {{session.requirements}}
        </div>
      </div>
    </mat-action-row>
    <mat-action-row>
      <span class="example-fill-remaining-space"></span>
      <div>
        Description
      </div>
      <span class="example-fill-remaining-space"></span>
    </mat-action-row>
    <mat-action-row *ngIf="sessions[i].isInstructor">
      <div *ngFor="let row of rows; let y = index">
        <div *ngIf="y % 5 == 0" class="row">
          {{ row.name }}
          <div *ngIf="y + 1 < rows.length">{{ rows[y + 1].name }}</div>
          <div *ngIf="y + 2 < rows.length">{{ rows[y + 2].name }}</div>
          <div *ngIf="y + 3 < rows.length">{{ rows[y + 3].name }}</div>
          <div *ngIf="y + 4 < rows.length">{{ rows[y + 4].name }}</div>
        </div>
      </div>
    </mat-action-row>
    <mat-action-row>
      <div *ngIf="!sessions[i].isInstructor && subButtons">
        <div class="btn-group btn-group-toggle" *ngIf="!sessions[i].subscribed">
          <button mat-button color="primary" [disabled]="sessions[i].capacity == sessions[i].subscribedCount"
            (click)="sub(session.id, i)">Subscribe</button>
        </div>
        <div class="btn-group btn-group-toggle" *ngIf="sessions[i].subscribed">
          <button mat-button color="primary" (click)="unsub(i)">Unsubscribe</button>
        </div>
      </div>
      <span class="example-fill-remaining-space"></span>
      <button mat-button color="warn" *ngIf="step != 0" (click)="prevStep()">Previous</button>
      <button mat-button color="primary" *ngIf="step != sessions.length -1" (click)="nextStep()">Next</button>

    </mat-action-row>

  </mat-expansion-panel>


</mat-accordion>
</div>